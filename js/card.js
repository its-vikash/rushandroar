const items=gsap.utils.toArray(".card"),details=document.querySelector(".card-detail"),detailImage=document.querySelector(".card-detail img"),detailTitle=document.querySelector(".card-detail .title"),detailDescription=document.querySelector(".card-detail .description");let activeItem;function showDetails(e){if(activeItem)return hideDetails();let t=()=>{Flip.fit(details,e,{scale:!0});const i=Flip.getState(details);gsap.set(details,{clearProps:!0}),mm.add(mediaConditions,(e=>{let{isMobile:t,isMedium:i,isLarge:a,isExtraLarge:l,isXXL:o}=e.conditions;gsap.set(details,{xPercent:-50,top:"45%",yPercent:-50,scale:t?1:i?1.2:1.5,rotate:0,visibility:"visible",overflow:"hidden",zIndex:"50"})})),gsap.set(e,{autoAlpha:0,duration:0}),Flip.from(i,{duration:.5,ease:"power2.inOut",scale:!0,onComplete:()=>gsap.set(details,{overflow:"auto"})}),detailImage.removeEventListener("load",t),document.addEventListener("click",hideDetails)};const i=e.dataset;detailImage.addEventListener("load",t),detailImage.src=e.querySelector("img").src;const a=i.title.split("<br>");detailTitle.innerHTML="",a.forEach((e=>{const t=document.createElement("h3");t.textContent=e,detailTitle.appendChild(t)}));const l=i.text.split("<br>");detailDescription.innerHTML="",l.forEach((e=>{const t=document.createElement("p");t.textContent=e,detailDescription.appendChild(t)})),gsap.to(".overlay-card",{autoAlpha:1,duration:1,delay:.2}),activeItem=e}function hideDetails(){document.removeEventListener("click",hideDetails),gsap.set(details,{overflow:"hidden"});const e=Flip.getState(details);Flip.fit(details,activeItem,{scale:!0});const t=gsap.timeline();t.set(details,{overflow:"hidden"}),Flip.from(e,{duration:.5,ease:"power2.inOut",scale:!0,onInterrupt:()=>t.kill()}).to(details,{autoAlpha:0,duration:0}).to(items,{autoAlpha:1,duration:.1}),gsap.to(".overlay-card",{autoAlpha:0,duration:1}),activeItem=null}window.innerWidth>=1024&&gsap.utils.toArray(".card").forEach((e=>e.addEventListener("click",(()=>showDetails(e)))));